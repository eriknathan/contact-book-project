<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Pessoas</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts (Poppins) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Custom CSS -->
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --background-color: #eef2f5;
            --card-bg: #ffffff;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            --border-color: #dee2e6;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--dark-color);
        }
        
        /* Estrutura da SPA */
        .page {
            display: none; /* Todas as páginas começam escondidas */
        }
        
        .page.active {
            display: block; /* A página ativa é exibida */
        }

        /* Estilos para as páginas de Autenticação (Login/Cadastro) */
        .auth-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .auth-card {
            width: 100%;
            max-width: 450px;
            background-color: var(--card-bg);
            border-radius: 20px;
            border: none;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .auth-header {
            text-align: center;
            padding: 2.5rem 2rem 2rem;
        }

        .auth-header .fa-address-book, .auth-header .fa-user-plus {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .auth-header h1 {
            font-weight: 600;
            font-size: 1.8rem;
            margin: 0;
        }
        
        .auth-body {
            padding: 2rem 2.5rem;
        }
        
        .auth-footer {
            text-align: center;
            padding: 1.5rem;
            font-size: 0.9rem;
            background-color: var(--light-color);
        }
        
        .auth-footer a {
            color: var(--primary-color);
            font-weight: 500;
            text-decoration: none;
        }
        
        /* Estilos para o App Principal */
        #app-wrapper {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        main.container {
            flex: 1;
        }

        .navbar {
            background-color: var(--card-bg) !important;
            box-shadow: var(--shadow);
            padding: 1rem 1.5rem;
        }

        .navbar-brand {
            font-weight: 600;
        }

        .main-header {
            padding: 2.5rem 0;
        }

        .search-form .form-control {
            border-radius: 50px;
            padding-left: 2.5rem;
            border: 1px solid var(--border-color);
        }
        
        .contact-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            border: none;
            box-shadow: var(--shadow);
            margin-bottom: 1.5rem;
            overflow: hidden;
            cursor: pointer;
        }
        
        .contact-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 500;
            margin-right: 1.5rem;
            overflow: hidden; /* Garante que a imagem não saia do círculo */
        }
        
        .contact-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Cobre o espaço sem distorcer a imagem */
        }
        
        .contact-info p {
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
        }
        
        .contact-actions {
            margin-left: auto;
            display: flex;
            gap: 0.5rem;
        }

        .app-footer {
            background-color: var(--light-color);
            border-top: 1px solid var(--border-color);
            padding: 1.5rem 0;
            color: var(--secondary-color);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <!-- PÁGINA DE LOGIN -->
    <section id="page-login" class="page active">
        <div class="auth-wrapper">
            <div class="auth-card">
                <div class="auth-header">
                    <i class="fas fa-address-book"></i>
                    <h1>Bem-vindo</h1>
                </div>
                <div class="auth-body">
                    <form id="login-form">
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" value="usuario@email.com" required>
                        </div>
                        <div class="mb-4">
                            <label for="password" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="password" value="123456" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Entrar</button>
                    </form>
                </div>
                <div class="auth-footer">
                    <p class="mb-0">Não tem uma conta? <a href="#" onclick="navigateTo('page-register')">Cadastre-se</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- PÁGINA DE CADASTRO DE USUÁRIO -->
    <section id="page-register" class="page">
        <div class="auth-wrapper">
            <div class="auth-card" style="max-width: 500px;">
                <div class="auth-header">
                    <i class="fas fa-user-plus"></i>
                    <h1>Crie sua Conta</h1>
                </div>
                <div class="auth-body">
                    <form>
                        <div class="row g-3 mb-3">
                            <div class="col-md-6"><input type="text" class="form-control" placeholder="Nome" required></div>
                            <div class="col-md-6"><input type="text" class="form-control" placeholder="Sobrenome" required></div>
                        </div>
                        <div class="mb-3"><input type="email" class="form-control" placeholder="Email" required></div>
                        <div class="mb-3"><input type="password" class="form-control" placeholder="Senha" required></div>
                        <div class="mb-4"><input type="password" class="form-control" placeholder="Confirme a Senha" required></div>
                        <button type="submit" class="btn btn-primary w-100">Cadastrar</button>
                    </form>
                </div>
                <div class="auth-footer">
                    <p class="mb-0">Já tem uma conta? <a href="#" onclick="navigateTo('page-login')">Faça login</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTAINER PRINCIPAL DO APP (Pós-login) -->
    <div id="app-wrapper" class="page">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            <div class="container-fluid">
                <a class="navbar-brand" href="#" onclick="navigateTo('page-list')">
                    <i class="fas fa-users text-primary"></i> Cadastro de Pessoas
                </a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav ms-auto align-items-center">
                        <li class="nav-item">
                            <button class="btn btn-primary rounded-pill" onclick="navigateTo('page-create')">
                                <i class="fas fa-user-plus me-2"></i>Nova Pessoa
                            </button>
                        </li>
                        <li class="nav-item dropdown ms-3">
                            <a class="nav-link dropdown-toggle p-0" href="#" data-bs-toggle="dropdown">
                                <img src="https://placehold.co/100x100/0d6efd/ffffff?text=U" class="rounded-circle" width="40" height="40">
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#" onclick="navigateTo('page-profile')"><i class="fas fa-user-circle me-2"></i>Perfil</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="#" onclick="logout()"><i class="fas fa-sign-out-alt me-2"></i>Sair</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <main class="container">
            <!-- PÁGINA INICIAL (LISTA) -->
            <section id="page-list" class="page">
                <header class="main-header">
                    <div class="row align-items-center">
                        <div class="col-md-6"><h1 class="mb-3 mb-md-0">Pessoas Cadastradas</h1></div>
                        <div class="col-md-6">
                            <form class="position-relative search-form">
                                <i class="fas fa-search"></i>
                                <input type="text" id="searchInput" class="form-control" placeholder="Buscar por nome, telefone ou email...">
                            </form>
                        </div>
                    </div>
                </header>
                <div id="contactList" class="row"></div>
                <div id="no-results" class="d-none text-center p-5"><p>Nenhuma pessoa encontrada.</p></div>
                <nav id="pagination-wrapper" aria-label="Paginação de pessoas"></nav>
            </section>

            <!-- PÁGINA DE DETALHES -->
            <section id="page-details" class="page"></section>
            
            <!-- PÁGINA DE CRIAÇÃO -->
            <section id="page-create" class="page"></section>

            <!-- PÁGINA DE PERFIL -->
            <section id="page-profile" class="page"></section>
        </main>

        <!-- Footer -->
        <footer class="app-footer text-center">
            <div class="container">
                <p class="mb-1">&copy; <span id="current-year"></span> Cadastro de Pessoas | Todos os direitos reservados.</p>
                <p class="mb-0">Desenvolvido por <a href="#">Enob Software</a></p>
            </div>
        </footer>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
        // --- BANCO DE DADOS SIMULADO ---
        const contacts = [
            { id: 1001, firstName: 'Joana', lastName: 'Miranda', phone: '(35) 9 9999-8888', email: 'joana@email.com', category: 'Trabalho', description: 'Contato profissional.', photoUrl: 'https://placehold.co/100x100/3498db/ffffff?text=JM' },
            { id: 1000, firstName: 'Helena', lastName: 'da Cunha', phone: '+55 (021) 8422 7503', email: 'ribeiroana-vitoria@bol.com.br', category: 'Amigos', description: 'Amiga da faculdade.', photoUrl: null },
            { id: 999, firstName: 'Vitor', lastName: 'Gabriel Souza', phone: '0800-937-4247', email: 'erick29@hotmail.com', category: 'Família', description: '', photoUrl: 'https://placehold.co/100x100/2ecc71/ffffff?text=VS' },
            { id: 998, firstName: 'Joana', lastName: 'Barbosa', phone: '0900-032-2631', email: 'da-luzmaria-sophia@hotmail.com', category: 'Outro', description: '', photoUrl: null },
            { id: 997, firstName: 'João', lastName: 'Miguel Gonçalves', phone: '+55 21 6448-2893', email: 'nlopes@bol.com.br', category: 'Trabalho', description: '', photoUrl: null },
            { id: 996, firstName: 'Arthur', lastName: 'Ferreira', phone: '(11) 9 8765-4321', email: 'arthur.ferreira@example.com', category: 'Amigos', description: '', photoUrl: 'https://placehold.co/100x100/f1c40f/ffffff?text=AF' },
            { id: 995, firstName: 'Laura', lastName: 'Almeida', phone: '(21) 9 1234-5678', email: 'laura.a@example.com', category: 'Amigos', description: '', photoUrl: null },
            { id: 994, firstName: 'Carlos', lastName: 'Eduardo', phone: '(31) 9 9876-5432', email: 'cadu@example.com', category: 'Família', description: '', photoUrl: null },
            { id: 993, firstName: 'Beatriz', lastName: 'Costa', phone: '(41) 9 2345-6789', email: 'bia.costa@example.com', category: 'Trabalho', description: '', photoUrl: 'https://placehold.co/100x100/e74c3c/ffffff?text=BC' },
            { id: 992, firstName: 'Lucas', lastName: 'Martins', phone: '(51) 9 3456-7890', email: 'lucas.m@example.com', category: 'Amigos', description: '', photoUrl: null },
            { id: 991, firstName: 'Mariana', lastName: 'Lima', phone: '(61) 9 4567-8901', email: 'mari.lima@example.com', category: 'Outro', description: '', photoUrl: null },
        ];
        
        // --- LÓGICA DE NAVEGAÇÃO E RENDERIZAÇÃO ---
        let currentPage = 1;
        const itemsPerPage = 10;
        let filteredContacts = [...contacts];

        function navigateTo(pageId, params = null) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            
            switch(pageId) {
                case 'page-list': renderListPage(); break;
                case 'page-details': renderDetailsPage(params.contactId); break;
                case 'page-create': renderCreatePage(); break;
                case 'page-profile': renderProfilePage(); break;
            }

            const isAppPage = ['page-list', 'page-details', 'page-create', 'page-profile'].includes(pageId);
            if (isAppPage) {
                document.getElementById('app-wrapper').classList.add('active');
            }
            document.getElementById(pageId).classList.add('active');
        }

        // --- RENDERIZAÇÃO DAS PÁGINAS ---

        // LISTA DE PESSOAS
        function renderListPage() {
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            displayPage(1);
        }

        function displayPage(page) {
            currentPage = page;
            const contactList = document.getElementById('contactList');
            contactList.innerHTML = '';

            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const paginatedItems = filteredContacts.slice(start, end);

            for (const contact of paginatedItems) {
                const initial = (contact.firstName.charAt(0) + (contact.lastName ? contact.lastName.charAt(0) : '')).toUpperCase();
                const fullName = `${contact.firstName} ${contact.lastName}`;
                
                const avatarHtml = contact.photoUrl 
                    ? `<img src="${contact.photoUrl}" alt="${fullName}">`
                    : `<span>${initial}</span>`;

                contactList.innerHTML += `
                    <div class="col-12">
                        <div class="card contact-card" onclick="navigateTo('page-details', { contactId: ${contact.id} })">
                            <div class="card-body d-flex align-items-center">
                                <div class="contact-avatar">${avatarHtml}</div>
                                <div class="contact-info">
                                    <h5 class="mb-1">${fullName}</h5>
                                    <p class="text-secondary"><i class="fas fa-id-card"></i> ID: ${contact.id}</p>
                                    <p class="text-secondary"><i class="fas fa-phone-alt"></i> ${contact.phone}</p>
                                    <p class="text-secondary mb-0"><i class="fas fa-envelope"></i> ${contact.email}</p>
                                </div>
                            </div>
                        </div>
                    </div>`;
            }
            document.getElementById('no-results').classList.toggle('d-none', filteredContacts.length > 0);
            setupPagination();
        }

        function setupPagination() {
            const paginationWrapper = document.getElementById('pagination-wrapper');
            paginationWrapper.innerHTML = '';
            const pageCount = Math.ceil(filteredContacts.length / itemsPerPage);
            if (pageCount <= 1) return;

            let ul = '<ul class="pagination justify-content-center">';
            ul += `<li class="page-item ${currentPage === 1 ? 'disabled' : ''}"><a class="page-link" href="#" onclick="event.preventDefault(); displayPage(${currentPage - 1})">Anterior</a></li>`;
            for (let i = 1; i <= pageCount; i++) {
                ul += `<li class="page-item ${currentPage === i ? 'active' : ''}"><a class="page-link" href="#" onclick="event.preventDefault(); displayPage(${i})">${i}</a></li>`;
            }
            ul += `<li class="page-item ${currentPage === pageCount ? 'disabled' : ''}"><a class="page-link" href="#" onclick="event.preventDefault(); displayPage(${currentPage + 1})">Próximo</a></li>`;
            ul += '</ul>';
            paginationWrapper.innerHTML = ul;
        }
        
        function handleSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            filteredContacts = contacts.filter(c => 
                `${c.firstName} ${c.lastName}`.toLowerCase().includes(searchTerm) ||
                c.phone.toLowerCase().includes(searchTerm) ||
                c.email.toLowerCase().includes(searchTerm)
            );
            displayPage(1);
        }

        // DETALHES DA PESSOA
        function renderDetailsPage(contactId) {
            const contact = contacts.find(c => c.id === contactId);
            const container = document.getElementById('page-details');
            if (!contact) {
                container.innerHTML = `<p class="text-center p-5">Contato não encontrado.</p>`;
                return;
            }
            const initial = (contact.firstName.charAt(0) + (contact.lastName ? contact.lastName.charAt(0) : '')).toUpperCase();
            const fullName = `${contact.firstName} ${contact.lastName}`;
            const avatarHtml = contact.photoUrl
                ? `<img src="${contact.photoUrl}" alt="${fullName}">`
                : `<span>${initial}</span>`;

            container.innerHTML = `
                <div class="py-4">
                    <button class="btn btn-light mb-4" onclick="navigateTo('page-list')"><i class="fas fa-arrow-left me-2"></i>Voltar para a lista</button>
                    <div class="card">
                        <div class="card-header text-center p-4">
                            <div class="contact-avatar mx-auto mb-3" style="width: 100px; height: 100px; font-size: 3rem;">${avatarHtml}</div>
                            <h2>${fullName}</h2>
                            <span class="badge bg-secondary">${contact.category}</span>
                        </div>
                        <div class="card-body p-4">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex"><i class="fas fa-id-card fa-fw me-3 mt-1"></i><div><strong>ID:</strong> ${contact.id}</div></li>
                                <li class="list-group-item d-flex"><i class="fas fa-envelope fa-fw me-3 mt-1"></i><div><strong>Email:</strong> ${contact.email}</div></li>
                                <li class="list-group-item d-flex"><i class="fas fa-phone-alt fa-fw me-3 mt-1"></i><div><strong>Telefone:</strong> ${contact.phone}</div></li>
                                <li class="list-group-item d-flex"><i class="fas fa-align-left fa-fw me-3 mt-1"></i><div><strong>Descrição:</strong> ${contact.description || 'N/A'}</div></li>
                            </ul>
                        </div>
                        <div class="card-footer text-end">
                            <button class="btn btn-secondary"><i class="fas fa-pencil-alt me-2"></i>Editar</button>
                            <button class="btn btn-danger"><i class="fas fa-trash-alt me-2"></i>Deletar</button>
                        </div>
                    </div>
                </div>`;
        }

        // CRIAR PESSOA
        function renderCreatePage() {
            const container = document.getElementById('page-create');
            container.innerHTML = `
                <div class="py-4">
                    <div class="card">
                        <div class="card-header"><h3>Nova Pessoa</h3></div>
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col-md-6"><label class="form-label">Nome</label><input type="text" class="form-control"></div>
                                <div class="col-md-6"><label class="form-label">Sobrenome</label><input type="text" class="form-control"></div>
                                <div class="col-md-6"><label class="form-label">Email</label><input type="email" class="form-control"></div>
                                <div class="col-md-6"><label class="form-label">Telefone</label><input type="tel" class="form-control"></div>
                                <div class="col-12"><label class="form-label">Descrição</label><textarea class="form-control"></textarea></div>
                            </div>
                        </div>
                        <div class="card-footer text-end">
                            <button class="btn btn-secondary" onclick="navigateTo('page-list')">Cancelar</button>
                            <button class="btn btn-primary">Salvar</button>
                        </div>
                    </div>
                </div>`;
        }
        
        // PERFIL DO USUÁRIO
        function renderProfilePage() {
            const container = document.getElementById('page-profile');
            container.innerHTML = `
                <div class="py-4">
                     <div class="card">
                        <div class="card-header"><h3>Meu Perfil</h3></div>
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col-md-6"><label class="form-label">Nome</label><input type="text" class="form-control" value="Usuário"></div>
                                <div class="col-md-6"><label class="form-label">Sobrenome</label><input type="text" class="form-control" value="Teste"></div>
                                <div class="col-12"><label class="form-label">Email</label><input type="email" class="form-control" value="usuario@email.com"></div>
                                <hr>
                                <div class="col-md-6"><label class="form-label">Nova Senha</label><input type="password" class="form-control"></div>
                                <div class="col-md-6"><label class="form-label">Confirmar Nova Senha</label><input type="password" class="form-control"></div>
                            </div>
                        </div>
                        <div class="card-footer text-end">
                            <button class="btn btn-secondary" onclick="navigateTo('page-list')">Cancelar</button>
                            <button class="btn btn-primary">Salvar Alterações</button>
                        </div>
                    </div>
                </div>`;
        }

        // --- AUTENTICAÇÃO ---
        function logout() {
            document.getElementById('app-wrapper').classList.remove('active');
            navigateTo('page-login');
        }

        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // Aqui iria a lógica de validação real
            navigateTo('page-list');
        });

        // --- INICIALIZAÇÃO ---
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('current-year').textContent = new Date().getFullYear();
            // A página de login já é mostrada por padrão
        });
    </script>
</body>
</html>
